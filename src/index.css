@import './styles/variables.css';

/* Gradient Background (Organic Blobs) */
.gradient-background {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: #b4d2ff;
  /* Soft Blue Base */
  z-index: -1;
  overflow: hidden;
}

.gradient-blob {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.8;
}

/* Yellow Blob (Flag Bottom) */
.blob-1 {
  background: #ffd966;
  width: 500px;
  height: 500px;
  top: 50%;
  left: 20%;
  animation: blobYellowSequence 20s infinite ease-in-out;
}

/* Lilac/Purple Blob (Disappears) */
.blob-2 {
  background: #c299ff;
  width: 450px;
  height: 450px;
  top: 10%;
  right: 10%;
  animation: blobPurpleSequence 20s infinite ease-in-out;
}

/* Soft Pink Blob (Disappears) */
.blob-3 {
  background: #ff99cc;
  width: 400px;
  height: 400px;
  bottom: 0%;
  left: 0%;
  animation: blobPinkSequence 20s infinite ease-in-out;
}

/* Soft Blue/Cyan Blob (Flag Top) */
.blob-4 {
  background: #6ea8ff;
  width: 550px;
  height: 550px;
  top: 0%;
  right: 20%;
  animation: blobBlueSequence 20s infinite ease-in-out;
}

/* --- Keyframes for 20s Narrative Sequence --- */

/* Yellow: Sweeps screen -> Settles Bottom (Flag) -> Sweeps */
@keyframes blobYellowSequence {
  0% {
    transform: translate(-50vw, -20vh) scale(1.2);
    opacity: 0.8;
  }

  20% {
    transform: translate(50vw, 10vh) scale(1);
    opacity: 0.8;
  }

  /* Sweep across */

  /* Flag Phase (40-60%) - Settles at Bottom Center */
  40% {
    transform: translate(10vw, 35vh) scale(1.5);
    opacity: 1;
  }

  50% {
    transform: translate(-5vw, 35vh) scale(1.6);
    opacity: 1;
  }

  60% {
    transform: translate(5vw, 35vh) scale(1.5);
    opacity: 1;
  }

  80% {
    transform: translate(-30vw, -10vh) scale(0.9);
    opacity: 0.8;
  }

  100% {
    transform: translate(-50vw, -20vh) scale(1.2);
    opacity: 0.8;
  }
}

/* Blue: Sweeps screen -> Settles Top (Flag) -> Sweeps */
@keyframes blobBlueSequence {
  0% {
    transform: translate(50vw, 20vh) scale(1);
    opacity: 0.8;
  }

  20% {
    transform: translate(-40vw, 40vh) scale(1.1);
    opacity: 0.8;
  }

  /* Sweep across */

  /* Flag Phase (40-60%) - Settles at Top Center */
  40% {
    transform: translate(-10vw, -20vh) scale(1.5);
    opacity: 1;
  }

  50% {
    transform: translate(10vw, -20vh) scale(1.6);
    opacity: 1;
  }

  60% {
    transform: translate(-5vw, -20vh) scale(1.5);
    opacity: 1;
  }

  80% {
    transform: translate(40vw, 10vh) scale(0.9);
    opacity: 0.8;
  }

  100% {
    transform: translate(50vw, 20vh) scale(1);
    opacity: 0.8;
  }
}

/* Purple: Sweeps -> Moves Off-screen (Flag) -> Sweeps back */
@keyframes blobPurpleSequence {
  0% {
    transform: translate(-20vw, 30vh) scale(1);
    opacity: 0.7;
  }

  20% {
    transform: translate(-60vw, -20vh) scale(1.2);
    opacity: 0.6;
  }

  /* Moves far left */

  /* Flag Phase (40-60%) - Move FAR away (Off-screen) */
  35% {
    transform: translate(100vw, -50vh) scale(0.5);
    opacity: 0;
  }

  /* Zoom to far right top */
  65% {
    transform: translate(100vw, -50vh) scale(0.5);
    opacity: 0;
  }

  /* Stay away */

  80% {
    transform: translate(-10vw, 10vh) scale(1.1);
    opacity: 0.6;
  }

  /* Returns */
  100% {
    transform: translate(-20vw, 30vh) scale(1);
    opacity: 0.7;
  }
}

/* Pink: Sweeps -> Moves Off-screen (Flag) -> Sweeps back */
@keyframes blobPinkSequence {
  0% {
    transform: translate(20vw, -30vh) scale(1);
    opacity: 0.7;
  }

  20% {
    transform: translate(50vw, 20vh) scale(1.1);
    opacity: 0.6;
  }

  /* Moves far right */

  /* Flag Phase (40-60%) - Move FAR away (Off-screen) */
  35% {
    transform: translate(-100vw, 50vh) scale(0.5);
    opacity: 0;
  }

  /* Zoom to far left bottom */
  65% {
    transform: translate(-100vw, 50vh) scale(0.5);
    opacity: 0;
  }

  /* Stay away */

  80% {
    transform: translate(10vw, -10vh) scale(0.9);
    opacity: 0.6;
  }

  /* Returns */
  100% {
    transform: translate(20vw, -30vh) scale(1);
    opacity: 0.7;
  }
}

/* Glassmorphic Card (ПРАВИЛЬНАЯ реализация - ПРОЗРАЧНАЯ!) */
.glassmorphic-card {
  /* Полупрозрачный белый фон чтобы градиент не просвечивал */
  background: rgba(255, 255, 255, 0.30);

  /* Ключевой эффект - backdrop blur (МЕНЬШЕ blur!) */
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);

  /* НЕ ДОБАВЛЯЕМ белый слой! Карточка должна быть ПРОЗРАЧНОЙ */
  /* background-color: rgba(255, 255, 255, 0.1); - УБРАНО! */

  border-radius: var(--card-radius);

  /* border: 1px solid rgba(255, 255, 255, 0.2); - REMOVED */
  border: none;

  /* Тени */
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.12),
    0 2px 8px rgba(0, 0, 0, 0.08);

  /* Размеры адаптивные - ФИКСИРОВАННАЯ ВЫСОТА! */
  max-width: 340px;
  height: 55vh;
  /* Пропорционально экрану как в оригинальной Дії */
  max-height: 500px;
  width: 100%;

  position: relative;
  overflow: hidden;
}

/* Light highlight сверху - ОЧЕНЬ СЛАБЫЙ */
.glassmorphic-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 30%;
  background: linear-gradient(180deg,
      rgba(255, 255, 255, 0.15) 0%,
      rgba(255, 255, 255, 0.05) 50%,
      transparent 100%);
  pointer-events: none;
  z-index: 1;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  width: 100%;
  height: 100vh;
  overflow: hidden;
  background: transparent;
}

body {
  font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
  font-weight: 400;
  /* Regular */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* ПОЛНАЯ блокировка вертикального скролла */
  width: 100%;
  height: 100vh;
  max-width: 100vw;
  overflow: hidden;
  position: fixed;
  background: transparent;
  /* Убираем белый фон! */

  /* Отключаем bounce эффект на iOS */
  overscroll-behavior: none;
}

#root {
  width: 100%;
  height: 100vh;
  max-width: 100vw;
  overflow: hidden;
}

/* Photo Container (белая подложка) */
.photo-container {
  background: var(--photo-bg-white);
  padding: var(--photo-bg-padding);
  border-radius: var(--photo-radius);

  /* Мягкая тень */
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.08),
    0 1px 4px rgba(0, 0, 0, 0.04);

  width: calc(var(--photo-width) + var(--photo-bg-padding) * 2);
  height: calc(var(--photo-height) + var(--photo-bg-padding) * 2);
  flex-shrink: 0;
}

.photo-container img {
  width: var(--photo-width);
  height: var(--photo-height);
  border-radius: calc(var(--photo-radius) - 4px);
  object-fit: cover;
  object-position: center;
  display: block;
}

/* Typography */
.card-title {
  font-size: var(--font-title-size);
  font-weight: var(--font-title-weight);
  line-height: var(--font-title-line-height);
  color: var(--text-black);
  letter-spacing: -0.02em;
}

.card-name {
  font-size: var(--font-name-size);
  font-weight: var(--font-name-weight);
  line-height: var(--font-name-line-height);
  color: var(--text-black);
  letter-spacing: -0.01em;
}

.card-label {
  font-size: var(--font-label-size);
  font-weight: var(--font-label-weight);
  line-height: var(--font-label-line-height);
  color: var(--text-black);
  opacity: 0.8;
}

.card-data {
  font-size: var(--font-data-size);
  font-weight: var(--font-data-weight);
  line-height: var(--font-data-line-height);
  color: var(--text-black);
}

/* Marquee (бегущая строка) */
.marquee-container {
  height: var(--marquee-height);

  /* Полупрозрачный фон с зеленым градиентом */
  background: linear-gradient(90deg,
      rgba(164, 235, 151, 0.85) 0%,
      rgba(154, 221, 176, 0.85) 50%,
      rgba(142, 209, 204, 0.85) 100%);

  display: flex;
  align-items: center;
  overflow: hidden;
  position: relative;
}

.marquee-text {
  font-size: var(--font-marquee-size);
  font-weight: var(--font-marquee-weight);
  color: #111111;
  white-space: nowrap;
  animation: marquee 30s linear infinite;
}

@keyframes marquee {
  0% {
    transform: translateX(0);
  }

  100% {
    transform: translateX(-50%);
  }
}

/* Menu Button */
.menu-button {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: var(--text-black);

  /* Мягкая тень - утопленный вид */
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.2),
    inset 0 1px 2px rgba(255, 255, 255, 0.1);

  position: absolute;
  bottom: 24px;
  right: 20px;
  z-index: 10;

  display: flex;
  align-items: center;
  justify-content: center;

  border: none;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.menu-button:active {
  transform: scale(0.95);
}

.menu-button-icon {
  color: white;
  font-size: 16px;
  font-weight: 600;
}

/* View Container */
.view-container {
  position: relative;
  width: 100%;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  z-index: 1;
}

/* Documents View */
.documents-view {
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* Carousel Container - скрываем scrollbar */
.carousel-container::-webkit-scrollbar {
  display: none;
}

/* Carousel Indicators */
.carousel-indicators {
  display: flex;
  gap: 8px;
}

.carousel-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.4);
  transition: all 0.3s ease;
}

.carousel-indicator.active {
  background: rgba(255, 255, 255, 1);
  width: 24px;
  border-radius: 4px;
}

/* Tab Bar */
.tab-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: var(--tab-bar-height);
  background: #000000;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 16px 0 calc(8px + env(safe-area-inset-bottom));
  z-index: 100;
  border-top: 0.5px solid rgba(255, 255, 255, 0.1);
}

.tab-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  color: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  transition: color 0.2s ease;
  flex: 1;
  padding: 8px;
  background: none;
  border: none;
  font-family: inherit;
  max-width: 100px;
}

.tab-item.active {
  color: rgba(255, 255, 255, 1);
}

.tab-item svg {
  width: 24px;
  height: 24px;
}

.tab-label {
  font-size: 10px;
  font-weight: 500;
  letter-spacing: -0.01em;
}